<form novalidate [formGroup]="form" (ngSubmit)="f.form.valid" #f="ngForm">
  <md-card>
    <md-toolbar>
     <div *ngIf="!showForm">
      <span class="section-title">{{slideIndex}} - {{slide.pageTitle.title}}</span>

     </div>
      <div *ngIf="showForm">
        <span class="section-title"> {{slideIndex}} -
        <md-input-container>
          <input mdInput formControlName="pageTitle" name="pageTitle" />
        </md-input-container>
        <md-select formControlName="titleAlign" name="titleAlign">
          <md-option *ngFor="let align of titleAlign" [value]="align">
            {{ align }}
          </md-option>
        </md-select>
      </span>
      </div>
      <a (click)="deleteSlide($event)" *ngIf="!isInShuffle" class="delete"><md-icon>delete</md-icon></a>
      <div class="align-right" (click)="toggleForm()">
          <md-icon *ngIf="showForm">keyboard_arrow_down</md-icon>
          <md-icon *ngIf="!showForm">keyboard_arrow_right</md-icon>
        </div>
    </md-toolbar>

    <md-card-content *ngIf="showForm">
      <div fxLayout="row" fxLayoutWrap="wrap" fxLayoutAlign="space-around" class="base dark layout-selector ">
        <md-toolbar-row class="sub-title-bar">
          <span><i class="fa fa-check-circle-o fa-fw" [class.checked]="slide.pageLayout"></i>Select Page Layout*</span>
        </md-toolbar-row>
        <div fxFlex="19" *ngFor="let layout of pageLayout">
          <input type="radio" [attr.id]="layout.value+slide.index" name="layout-selector+slide.index" (change)="pageLayoutChange(layout.value)"
            [attr.checked]="layout.value==slide.pageLayout?true:null" />

          <label fxFlex="100" for={{layout.value+slide.index}}><a fxFlex="100" md-raised-button mdTooltip={{layout.type}}><i *ngFor="let icon of layout.icon" [ngStyle]="{ 'padding': '24px'}" class="fa {{icon}} fa-4x"></i></a></label>

        </div>
      </div>

      <div fxLayout="column" fxLayoutWrap="wrap" fxLayoutAlign="space-between none" class="base dark">
        <!--  <div   *ngIf="slide.hasGraph&&slide.pageLayout!='textInCenterImageBackground'">
          <md-toolbar-row class="sub-title-bar">
            <span><i class="fa fa-check-circle-o fa-fw" [class.checked]="form.value.slideGraph"></i>Select Graph Type*</span>
          </md-toolbar-row>
          <br><br>
          <div fxLayout="row" fxLayoutAlign="center none">
            <md-select placeholder="Select graph" formControlName="slideGraph" name="slideGraph" (change)="graphChanged()" fxFlex="50">
              <md-option *ngFor="let graph of graphs" [value]="graph.value">
                {{ graph.type }}
              </md-option>
            </md-select>
          </div>
        </div>-->
        <!-- <md-tab-group *ngIf="slide.hasGraph &&(form.controls.slideGraph.value)&& !(form.controls.slideGraph.value=='image'||form.controls.slideGraph.value=='noGraph'||form.controls.slideGraph.value=='ngGraph')" [selectedIndex]="curTab" #dataInput fxFlex="100">
        <md-tab label="Json">
          <textarea name="graphDataJson" formControlName="graphDataJson"></textarea>
          <p class="error" *ngIf=" form.controls.graphDataJson.invalid">Invalidate json format</p>
        </md-tab>
        <md-tab label="CSV">
          <app-csv-input (csv2json)="getCsvJson($event)"></app-csv-input>
        </md-tab>
      </md-tab-group> -->
        <div *ngIf="(slide.hasGraph && form.controls.slideGraph.value=='image')||(slide.pageLayout=='textInCenterImageBackground')" class="step">
          <md-toolbar-row class="sub-title-bar">
            <span><i class="fa fa-check-circle-o fa-fw" [class.checked]="slide.slideImage"></i>Upload Image*</span>
          </md-toolbar-row>
          <app-image-upload (setImage)="setImageHtml($event)" [imagePath]="slide.slideImage" align="center"></app-image-upload>
        </div>

        <div *ngIf="slide.hasText" class="step">
          <div class="sub-title-bar">
            <md-toolbar-row>
              <span><i class="fa fa-check-circle-o fa-fw" [class.checked]="slide.text"></i>Input Text Content*</span>
            </md-toolbar-row>
          </div>
          <textarea [froalaEditor]='editorOptions' [(froalaModel)]="slide.text"></textarea>
        </div>

        <div *ngIf="slide.hasGraph" class="step">
          <app-charts-builder [inputData]="slide.data" [inputOptions]="slide.config" (configGraph)="confirmeSlideGRaphConfig($event)" (validSlide)="confirmSlide($event)">
          </app-charts-builder>
        </div>
        <br>

      </div>
    </md-card-content>

  </md-card>
</form>
